"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.deepClone = deepClone;
exports.shallowClone = shallowClone;
exports.simpleClone = simpleClone;
var _is = require("./is.cjs");
function simpleClone(source) {
  return JSON.parse(JSON.stringify(source));
}
function shallowClone(source) {
  if ((0, _is.isPlainObject)(source)) {
    const target = {};
    for (const [, key] of [...Object.keys(source), ...Object.getOwnPropertySymbols(source)].entries()) target[key] = source[key];
    return target;
  }
  if ((0, _is.isArray)(source)) return [...source];
  return simpleClone(source);
}
function deepClone(source) {
  return deepCloneImpl(source);
}
function deepCloneImpl(source, seen = /* @__PURE__ */new WeakMap()) {
  let target;
  if ((0, _is.isPlainObject)(source)) target = Object.create(source.constructor.prototype);
  if ((0, _is.isArray)(source)) target = [];else return source;
  if (seen.has(source)) return seen.get(source);
  seen.set(source, target);
  const keys = [...Object.keys(source), ...Object.getOwnPropertySymbols(source)];
  for (let i = 0, l = keys.length; i < l; i++) {
    const key = keys[i];
    const value = source[key];
    target[key] = (0, _is.isPlainObject)(value) || (0, _is.isArray)(value) ? deepCloneImpl(value, seen) : value;
  }
  return target;
}